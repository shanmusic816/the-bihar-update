<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Cricket - The Bihar Update</title>

<style>
body{
margin:0;
font-family:Arial,Helvetica,sans-serif;
background:#0b1220;
color:#fff;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.card{
width:95%;
max-width:500px;
background:#111a2e;
border-radius:15px;
padding:20px;
box-shadow:0 0 25px rgba(0,0,0,0.6);
text-align:center;
}

.live{
color:red;
font-weight:bold;
}

.score{
font-size:26px;
margin:10px 0;
}

.small{
opacity:0.7;
font-size:14px;
margin-top:10px;
}
</style>
</head>

<body>

<div class="card">
<h2>The Bihar Update</h2>
<div class="live">‚óè LIVE CRICKET</div>
<div id="content">Searching Match...</div>
<div class="small" id="time"></div>
</div>

<script>

const API_KEY = "PUT_NEW_KEY_HERE";

async function loadMatch(){

try{

// STEP 1 - get all matches
let res = await fetch(`https://api.cricapi.com/v1/matches?apikey=${API_KEY}`);
let data = await res.json();

if(data.status !== "success"){
document.getElementById("content").innerHTML="API Error";
return;
}

// STEP 2 - find India vs Australia
let match = data.data.find(m =>
m.teams &&
m.teams.includes("India") &&
m.teams.includes("Australia")
);

if(!match){
document.getElementById("content").innerHTML="No Live Match Right Now";
return;
}

// STEP 3 - get match info
let infoRes = await fetch(`https://api.cricapi.com/v1/match_info?apikey=${API_KEY}&id=${match.id}`);
let infoData = await infoRes.json();

if(infoData.status !== "success"){
document.getElementById("content").innerHTML="Unable to load score";
return;
}

let matchData = infoData.data;

// BEFORE START
if(!matchData.matchStarted){
document.getElementById("content").innerHTML="<h3>Match Starts Soon</h3>";
return;
}

// AFTER END
if(matchData.matchEnded){
document.getElementById("content").innerHTML=`
<div class="score">
${matchData.score[0]?.inning || "-"}<br>
${matchData.score[1]?.inning || "-"}
</div>
<h3>${matchData.status}</h3>
`;
return;
}

// LIVE
document.getElementById("content").innerHTML=`
<div class="score">
${matchData.score[0]?.inning || "-"}<br>
${matchData.score[1]?.inning || "-"}
</div>
<h3>${matchData.status}</h3>
`;

}catch(e){
document.getElementById("content").innerHTML="Network Error";
}
}

function updateTime(){
let now = new Date();
document.getElementById("time").innerText =
"Last Updated: " + now.toLocaleTimeString();
}

loadMatch();
updateTime();
setInterval(loadMatch,60000);
setInterval(updateTime,1000);

</script>

</body>
</html>
