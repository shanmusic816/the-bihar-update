<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Live Cricket Score | The Bihar Update</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:url('images/cricket-bg.jpg') no-repeat center center/cover;
    color:white;
}

header{
    background:#c62828;
    padding:15px;
    text-align:center;
}

header h1{
    margin:0;
}

nav{
    margin-top:8px;
}

nav a{
    color:white;
    margin:0 10px;
    text-decoration:none;
    font-weight:bold;
}

.live-box{
    max-width:400px;
    margin:100px auto;
    background:rgba(0,0,0,0.6);
    padding:25px;
    border-radius:12px;
    text-align:center;
    box-shadow:0 0 25px rgba(255,255,255,0.2);
}

.live-box h2{
    margin-bottom:20px;
}

.score{
    font-size:18px;
    margin:10px 0;
}

.status{
    margin-top:15px;
    font-weight:bold;
}
</style>
</head>

<body>

<header>
    <h1>The Bihar Update</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
        <a href="privacy.html">Privacy</a>
    </nav>
</header>

<div class="live-box">
    <h2>ðŸ”´ Live Match</h2>

    <div id="team1" class="score">Loading...</div>
    <div id="team2" class="score"></div>

    <div id="status" class="status"></div>
</div>

<script>

const API_KEY = "0d1e4d24-19c5-45b4-836a-d9687476177a";

async function fetchLiveScore(){

    try{
        const response = await fetch(
            `https://api.cricketdata.org/v1/matches?apikey=${API_KEY}&status=live`
        );

        const data = await response.json();
        console.log(data);

        if(data.status !== "success"){
            document.getElementById("status").innerText = "API Error";
            return;
        }

        if(data.data && data.data.length > 0){

            const match = data.data[0];

            let team1Score = "No Score";
            let team2Score = "No Score";

            if(match.score && match.score.length > 0){
                team1Score = match.score[0]?.r + "/" + match.score[0]?.w + 
                             " (" + match.score[0]?.o + " ov)";
            }

            if(match.score && match.score.length > 1){
                team2Score = match.score[1]?.r + "/" + match.score[1]?.w + 
                             " (" + match.score[1]?.o + " ov)";
            }

            document.getElementById("team1").innerText =
                match.team1 + " : " + team1Score;

            document.getElementById("team2").innerText =
                match.team2 + " : " + team2Score;

            document.getElementById("status").innerText =
                match.status || "Live";

        } else {

            document.getElementById("team1").innerText = "";
            document.getElementById("team2").innerText = "";
            document.getElementById("status").innerText = "No Live Match Right Now";

        }

    } catch(error){
        console.log(error);
        document.getElementById("status").innerText = "Error Loading Score";
    }
}

fetchLiveScore();

// Auto refresh every 30 sec
setInterval(fetchLiveScore, 30000);

</script>

</body>
</html>
